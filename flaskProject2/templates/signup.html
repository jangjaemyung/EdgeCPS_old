<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <!-- 부트스트랩 링크 추가 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">회원가입</h1>
        <form action="/signup" method="post" id="signupForm">
            <div class="form-group">
                <label for="name">이름:</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="username">아이디:</label>
                <input type="text" class="form-control" id="username" name="username" required>
                <small id="usernameError" class="text-danger"></small> <!-- 에러 메시지를 표시할 영역 -->
            </div>
            <div class="form-group">
                <label for="password">비밀번호:</label>
                <input type="password" class="form-control" id="password" name="password" required>
                <small id="passwordError" class="text-danger"></small> <!-- 에러 메시지를 표시할 영역 -->
            </div>
            <div class="form-group">
                <label for="email">이메일:</label>
                <input type="email" class="form-control" id="email" name="email" required>
                <small id="emailError" class="text-danger"></small> <!-- 에러 메시지를 표시할 영역 -->
            </div>
            <div class="form-group">
                <label for="birthdate">생년월일:</label>
                <input type="date" class="form-control" id="birthdate" name="birthdate" required>
            </div>
            <button type="submit" class="btn btn-primary">가입</button>
            <a href="/cancel" class="btn btn-secondary">취소</a>
        </form>
    </div>
    <!-- 부트스트랩 스크립트 추가 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const signupForm = document.getElementById('signupForm');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const emailInput = document.getElementById('email');
            const usernameError = document.getElementById('usernameError');
            const passwordError = document.getElementById('passwordError');
            const emailError = document.getElementById('emailError');

            signupForm.addEventListener('submit', function (event) {
                // 이 부분에 중복 검사 로직을 추가하고 에러를 표시 구현 해야댐 
                const isUsernameDuplicate = false; // 아이디 중복 여부
                const isEmailDuplicate = false;    // 이메일 중복 여부
                const isPasswordValid = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{5,}$/.test(passwordInput.value); // 비밀번호 성립 조건 (5자 이상, 영문과 숫자 포함)

                if (!isUsernameDuplicate) {
                    event.preventDefault();
                    usernameError.textContent = '이미 사용 중인 아이디입니다.';
                } else {
                    usernameError.textContent = '';
                }

                if (!isPasswordValid) {
                    event.preventDefault();
                    passwordError.textContent = '비밀번호는 5자 이상이며 영문과 숫자를 포함해야 합니다.';
                } else {
                    passwordError.textContent = '';
                }

                if (!isEmailDuplicate) {
                    event.preventDefault();
                    emailError.textContent = '이미 사용 중인 이메일입니다.';
                } else {
                    emailError.textContent = '';
                }
            });
        });
    </script>
</body>
</html>
